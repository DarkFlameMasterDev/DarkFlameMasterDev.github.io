<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="lucas">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
        
        
        
            <link rel="preconnect" href="https://registry.npmmirror.com" crossorigin>
        
    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://example.com/2023/11/07/android-里的-bitmap-drawable-mipmap（没写完）/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
    
    
        
        <meta name="description" content="Hexo Theme Redefine, Redefine Your Hexo Journey.">
<meta property="og:type" content="article">
<meta property="og:title" content="Android 里的 Bitmap、Drawable、Mipmap（没写完）">
<meta property="og:url" content="http://example.com/2023/11/07/Android-%E9%87%8C%E7%9A%84-Bitmap-Drawable-Mipmap%EF%BC%88%E6%B2%A1%E5%86%99%E5%AE%8C%EF%BC%89/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Hexo Theme Redefine, Redefine Your Hexo Journey.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/images/redefine-og.webp">
<meta property="article:published_time" content="2023-11-07T03:14:23.000Z">
<meta property="article:modified_time" content="2025-04-23T09:23:15.546Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Android">
<meta property="article:tag" content="Bitmap">
<meta property="article:tag" content="Drawable">
<meta property="article:tag" content="Mipmap">
<meta property="article:tag" content="图片处理">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/redefine-og.webp">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/img/lucas_avatar.png" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/lucas_avatar.png">
    <meta name="theme-color" content="#FC2D4F">
    <link rel="shortcut icon" href="/img/lucas_avatar.png">
    <!--- Page Info-->
    
    <title>
        
            Android 里的 Bitmap、Drawable、Mipmap（没写完） | DarkFlameMaster&#39;s blog
        
    </title>

    <link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fonts/Chillax/chillax.css">

    <!--- Inject Part-->
    
        
            
    
            
    
            
                
                    <style> .home-banner-container { display: none !important;} </style>
                
    
            
                
                    <style> span.nav-text {word-wrap: break-word !important;word-break: break-word !important;white-space: normal !important;} </style>
                
    
            
                
                    <style> mjx-container[jax="SVG"][display="true"] { text-align: left !important; border: dotted !important;  border-radius: 6px !important; padding: 18px !important; display: block !important; } </style>
                
    
            
                
                    <style> mjx-container.MathJax { display: inline-block !important; width: fit-content !important; max-width: 100% !important; } </style>
                
    
            
                
                    <style> .code-container { border-radius: 6px !important; } </style>
                
    
            
                
                    <style> figure.iseeu.highlight { border-radius: 0px 0px 6px 6px !important;} </style>
                
    
            
                
                    <style> .markdown-body img { border: solid !important;} </style>
                
    
            
                
                    <style> table { display:block !important; border-radius: 6px !important; width: fit-content !important; max-width: 100% !important;} </style>
                
    
            
                
                    <style> .markdown-body > table thead th:first-child, .markdown-body .tab-pane > table thead th:first-child { border-top-left-radius: 6px !important;} </style>
                
    
            
                
                    <style> .markdown-body > table thead th:last-child, .markdown-body .tab-pane > table thead th:last-child { border-top-right-radius: 6px !important;} </style>
                
    

    
<link rel="stylesheet" href="/css/style.css">


    
        <link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/css/build/tailwind.css">
    

    <link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fonts/GeistMono/geist-mono.css">
    <link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fonts/Geist/geist.css">
    <!--- Font Part-->
    
        <link href="" rel="stylesheet">
    
    
        <link href="https://darkflamemasterdev.github.io/css/font-meslo.css" rel="stylesheet">
    
    
        <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500&display=swap" rel="stylesheet">
    
    
        <link href="https://darkflamemasterdev.github.io/css/font-meslo.css" rel="stylesheet">
    
    
        <link href="https://darkflamemasterdev.github.io/css/font-meslo.css" rel="stylesheet">
    
    

    <script id="hexo-configurations">
    window.config = {"hostname":"example.com","root":"/","language":"en","path":"search.json"};
    window.theme = {"articles":{"style":{"font_size":"16px","line_height":1.8,"image_border_radius":"6px","image_alignment":"left","image_caption":false,"link_icon":true,"delete_mask":false,"title_alignment":"left","headings_top_spacing":{"h1":"5rem","h2":"4rem","h3":"2.8rem","h4":"2.5rem","h5":"2.2rem","h6":"2rem"}},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","highlight_theme":{"light":"github","dark":"vs2015"},"font":{"enable":true,"family":"Meslo","url":"https://darkflamemasterdev.github.io/css/font-meslo.css"}},"toc":{"enable":true,"max_depth":6,"number":false,"expand":true,"init_open":true},"copyright":{"enable":true,"default":"cc_by_nc_sa"},"lazyload":false,"pangu_js":false,"recommendation":{"enable":true,"title":"其他文章","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#FC2D4F","secondary":null,"default_mode":"light"},"global":{"fonts":{"chinese":{"enable":true,"family":"Noto Serif SC","url":"https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500&display=swap"},"english":{"enable":true,"family":"Meslo","url":"https://darkflamemasterdev.github.io/css/font-meslo.css"},"title":{"enable":true,"family":"Meslo","url":"https://darkflamemasterdev.github.io/css/font-meslo.css"}},"content_max_width":"1200px","sidebar_width":"360px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"website_counter":{"url":"https://cn.vercount.one/js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":{"enable":false,"custom_message":null},"open_graph":{"enable":true,"image":"/images/redefine-og.webp","description":"Hexo Theme Redefine, Redefine Your Hexo Journey."},"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/wallhaven-wqery6-light.webp","dark":"/images/wallhaven-wqery6-dark.webp"},"title":"DarkflameMaster","subtitle":{"text":["博客文章向下翻"],"hitokoto":{"enable":false,"show_author":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#000","dark":"#fff"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":true,"family":null,"url":null},"social_links":{"enable":false,"style":"default","links":{"github":"https://github.com/DarkFlameMasterDev","instagram":null,"zhihu":null,"twitter":null,"email":null},"qrs":{"weixin":"/img/wx_qrcode.png"}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null,"lrc":null}]},"mermaid":{"enable":false,"version":"11.4.1"}},"version":"2.8.2","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-solid fa-house"},"Archives":{"path":"/archives","icon":"fa-solid fa-box-archive"},"Coffee for me":{"path":"https://darkflamemasterdev.github.io/img/wx_qrcode.png","icon":"fa-solid fa-mug-hot"},"Github":{"path":"https://github.com/DarkFlameMasterDev","icon":"fa-brands fa-github"}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"show_on_mobile":true,"links":null},"article_date_format":"auto","excerpt_length":200,"categories":{"enable":true,"limit":12},"tags":{"enable":true,"limit":12}},"footerStart":"2023/4/17 02:45:14"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    <link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fontawesome/fontawesome.min.css">
    <link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fontawesome/brands.min.css">
    <link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fontawesome/solid.min.css">
    <link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fontawesome/regular.min.css">
    
    
    
    
<meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>



<body>
	<div class="progress-bar-container">
	

	
	<span class="pjax-progress-bar"></span>
	<!--        <span class="swup-progress-icon">-->
	<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
	<!--        </span>-->
	
</div>

<main class="page-container" id="swup">

	

	<div class="main-content-container flex flex-col justify-between min-h-dvh">
		<div class="main-content-header">
			<header class="navbar-container px-6 md:px-12">
    <div class="navbar-content transition-navbar ">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                DarkFlameMaster&#39;s blog
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/"
                                        >
                                    <i class="fa-solid fa-house fa-fw"></i>
                                    HOME
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/archives"
                                        >
                                    <i class="fa-solid fa-box-archive fa-fw"></i>
                                    ARCHIVES
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   target="_blank" rel="noopener" href="https://darkflamemasterdev.github.io/img/wx_qrcode.png"
                                        >
                                    <i class="fa-solid fa-mug-hot fa-fw"></i>
                                    COFFEE FOR ME
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   target="_blank" rel="noopener" href="https://github.com/DarkFlameMasterDev"
                                        >
                                    <i class="fa-brands fa-github fa-fw"></i>
                                    GITHUB
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-dvh w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/"
                        >
                            <span>
                                HOME
                            </span>
                            
                                <i class="fa-solid fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/archives"
                        >
                            <span>
                                ARCHIVES
                            </span>
                            
                                <i class="fa-solid fa-box-archive fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           target="_blank" rel="noopener" href="https://darkflamemasterdev.github.io/img/wx_qrcode.png"
                        >
                            <span>
                                COFFEE FOR ME
                            </span>
                            
                                <i class="fa-solid fa-mug-hot fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           target="_blank" rel="noopener" href="https://github.com/DarkFlameMasterDev"
                        >
                            <span>
                                GITHUB
                            </span>
                            
                                <i class="fa-brands fa-github fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            

            
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">118</div>
        <div class="label text-third-text-color text-sm">Tags</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">0</div>
        <div class="label text-third-text-color text-sm">Categories</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">63</div>
        <div class="label text-third-text-color text-sm">Posts</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


		</div>

		<div class="main-content-body transition-fade-up">
			

			<div class="main-content">
				<div class="post-page-container flex relative justify-between box-border w-full h-full">
	<div class="article-content-container">

		<div class="article-title relative w-full">
			
			
			
			<img src="https://darkflamemasterdev.github.io/img/language_headimg.png" alt="Android 里的 Bitmap、Drawable、Mipmap（没写完）" class="w-full h-60 sm:h-72 md:h-80 object-cover sm:rounded-t-large dark:brightness-75" />
			
			<div class="w-full flex items-center absolute bottom-0 justify-start">
				<h1 class="article-title-cover text-center mx-6 my-6 text-second-text-color bg-background-color-transparent px-4 py-3 text-3xl sm:text-4xl md:text-5xl font-semibold backdrop-blur-lg rounded-xl border border-border-color ">Android 里的 Bitmap、Drawable、Mipmap（没写完）</h1>
			</div>
			
		</div>

		
		<div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
			<div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
				<img src="/img/lucas_avatar.png">
			</div>
			<div class="info flex flex-col justify-between">
				<div class="author flex items-center">
					<span class="name text-default-text-color text-lg font-semibold">lucas</span>
					
					<span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv4</span>
					
				</div>
				<div class="meta-info">
					<div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2023-11-07 11:14:23</span>
        <span class="mobile">2023-11-07 11:14:23</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2025-04-23 17:23:15</span>
            <span class="mobile">2025-04-23 17:23:15</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Android/">Android</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Bitmap/">Bitmap</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Drawable/">Drawable</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Mipmap/">Mipmap</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86/">图片处理</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fa-regular fa-typewriter"></i>&nbsp;<span>6.1k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fa-regular fa-clock"></i>&nbsp;<span>25 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

				</div>
			</div>
		</div>
		

		


		<div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
			<h2 id="Drawable-是什么？"><a href="#Drawable-是什么？" class="headerlink" title="Drawable 是什么？"></a>Drawable 是什么？</h2><p><code>Drawable</code>并不是图</p>
<p><code>Drawable</code>是一个抽象类，用于表示可绘制对象。本身是一个绘制工具，更像一个只专注于绘制的 View，所以一个 Drawable 显示什么，取决于它绘制什么</p>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> android.graphics.drawable</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Drawable</span> {</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">(<span class="meta">@NonNull</span> Canvas canvas)</span>;</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<p>-<code>Drawable</code><br>  提供了一种通用的方式来处理不同类型的可绘制资源，无论是静态图像、矢量图形、渐变或其他形式的绘制内容。它使开发人员可以轻松地切换和管理不同类型的可绘制资源，以便用于<code>UI</code><br>  设计。<br>-<code>Android</code>提供了许多不同类型的<code>Drawable</code>子类，如<code>BitmapDrawable</code>（用于显示位图图像）、<code>ShapeDrawable</code><br>  （用于绘制基本形状）、<code>VectorDrawable</code>（用于显示矢量图形）等</p>
<h2 id="Bitmap-是什么？"><a href="#Bitmap-是什么？" class="headerlink" title="Bitmap 是什么？"></a>Bitmap 是什么？</h2><p><code>bitmap</code>又叫位图，在<code>Android</code>里，它代表一个像素矩阵，含有一个图片 完整的、未压缩的 像素数据。</p>
<p>既然，<code>Bitmap</code>是一个包含所有像素信息的矩阵，而每个像素所占空间是你固定的，所以————只要不改变 Bitmap 的尺寸，或者说只要不改变分辨率，那么 Bitmap 的占的内存就不会变，也就是说，Bitmap 的内存占用只和图片的尺寸（分辨率）有关</p>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> android.graphics;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Bitmap</span> <span class="keyword">implements</span> <span class="title class_">Parcelable</span> {</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<h2 id="Mipmap-是什么？"><a href="#Mipmap-是什么？" class="headerlink" title="Mipmap 是什么？"></a>Mipmap 是什么？</h2><p><code>Mipmap（多级纹理映射）</code>是一种用于优化计算机图形中纹理映射的技术。</p>
<p>纹理映射是一种在三维图形渲染中将二维图像（称为纹理）映射到三维模型表面的方法。</p>
<p>Mipmap 是为了提高图形性能和视觉质量而设计的。</p>
<h2 id="Drawable-Bitmap-互转？？？"><a href="#Drawable-Bitmap-互转？？？" class="headerlink" title="Drawable Bitmap 互转？？？"></a>Drawable Bitmap 互转？？？</h2><p>了解了 Drawable 和 Bitmap 是什么，那么就回到这个老生常谈的问题了，Drawable 和 Bitmap 如何互转？？？</p>
<p>其实根本没有什么互转，Bitmap 是一个包含像素信息的矩阵，而 Drawable 根本没有像素信息，那么我们如果想让 Bitmap “转为” Drawable 呢？</p>
<p>只能用 Drawable 将Bitmap 画出来了，而 BitmapDrawable 就是这个工具</p>
<div class="code-container" data-rel="Kotlin"><figure class="iseeu highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> bitmapDrawable = BitmapDrawable(resource, bitmap)</span><br></pre></td></tr></table></figure></div>

<p>反之，如何将 Drawable “转成” Bitmap 呢？</p>
<p>Drawable 并没有像素信息，但是需要用像素信息将 Bitmap 填满，该怎么办呢？</p>
<p>只能将 Drawable 的信息用 canvas 绘制出来了</p>
<div class="code-container" data-rel="Kotlin"><figure class="iseeu highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">drawableToBitmap</span><span class="params">(drawable: <span class="type">Drawable</span>)</span></span>: Bitmap {</span><br><span class="line">  <span class="keyword">val</span> bitmap: Bitmap</span><br><span class="line">  <span class="keyword">if</span> (drawable <span class="keyword">is</span> BitmapDrawable) {</span><br><span class="line">    <span class="keyword">return</span> drawable.bitmap</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  bitmap = <span class="keyword">if</span> (drawable.intrinsicWidth &lt;= <span class="number">0</span> || drawable.intrinsicHeight &lt;= <span class="number">0</span>) {</span><br><span class="line">    Bitmap.createBitmap(<span class="number">1</span>, <span class="number">1</span>, Bitmap.Config.ARGB_8888)</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    Bitmap.createBitmap(</span><br><span class="line">      drawable.intrinsicWidth,</span><br><span class="line">      drawable.intrinsicHeight,</span><br><span class="line">      Bitmap.Config.ARGB_8888</span><br><span class="line">    )</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> canvas = Canvas(bitmap)</span><br><span class="line">  drawable.setBounds(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height)</span><br><span class="line">  drawable.draw(canvas)</span><br><span class="line">  <span class="keyword">return</span> bitmap</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<h2 id="使用-Drawable"><a href="#使用-Drawable" class="headerlink" title="使用 Drawable"></a>使用 Drawable</h2><h3 id="通过资源图片创建-Drawable"><a href="#通过资源图片创建-Drawable" class="headerlink" title="通过资源图片创建 Drawable"></a>通过资源图片创建 Drawable</h3><p>您可以通过引用项目资源中的图片文件向应用添加图形。支持的文件类型包括 PNG（首选）、JPG（可接受）和 GIF（不建议）</p>
<p>将文件添加到项目的<code>res/drawable/</code>目录。进入项目后，您可以从代码或 XML 布局中引用图片资源。</p>
<p>注意</p>
<p>在构建过程中，<code>aapt</code>工具可能会使用无损图片压缩功能自动优化位于<code>res/drawable/</code>目录中的图片资源。</p>
<p>例如，可以通过调色板将不需要超过 256 种颜色的真彩色 PNG 转换为 8 位 PNG。这样做会生成质量相同但内存占用量更小的图片。</p>
<p>因此，此目录中的映像二进制文件可能会在构建时发生变化。如果您打算以比特流的形式读取图片，进而将其转换为位图，请改为将图片放在<code>res/raw/</code><br>文件夹中，<code>aapt</code>工具不会修改这些图片。</p>
<p>下面<code>kotlin</code>代码展示两种在代码里直接用 resId 引用资源的方式</p>
<div class="code-container" data-rel="Kotlin"><figure class="iseeu highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> i = ImageView(<span class="keyword">this</span>).apply {</span><br><span class="line">    setImageResource(R.drawable.my_image)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> myImage: Drawable = ResourcesCompat.getDrawable(context.resources, R.drawable.my_image, <span class="literal">null</span>)</span><br></pre></td></tr></table></figure></div>

<p>警告</p>
<p>项目中的每个唯一资源只能保留一种状态，无论您为其实例化多少个不同的对象都是如此。</p>
<p>例如，如果您实例化同一图片资源中的两个 Drawable 对象，并更改一个对象的属性（例如 alpha），那么另一个对象也会受到影响。</p>
<p>在处理某个图片资源的多个实例时，应执行<a class="link" target="_blank" rel="noopener" href="https://developer.android.com/guide/topics/graphics/view-animation?hl=zh-cn#tween-animation">补间动画<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br>，而不是直接转换 Drawable 对象。</p>
<p>下面<code>xml</code>代码段展示了如何在<code>XML</code>布局中向<code>ImageView</code>添加可绘制资源：</p>
<div class="code-container" data-rel="Kotlin"><figure class="iseeu highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;ImageView</span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:src=<span class="string">"@drawable/my_image"</span></span><br><span class="line">        android:contentDescription=<span class="string">"@string/my_image_desc"</span> /&gt;</span><br></pre></td></tr></table></figure></div>

<p>如需详细了解如何使用项目资源，请参阅<a class="link" target="_blank" rel="noopener" href="https://developer.android.com/guide/topics/resources?hl=zh-cn">应用资源指南<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<p>注意</p>
<p>使用图片资源作为可绘制对象的来源时，请确保图片尺寸适合各种像素密度。</p>
<p>如果图片不正确，系统会将其放大以匹配图片，这可能会导致可绘制对象出现伪影。</p>
<p>如需了解详情，请参阅<a class="link" target="_blank" rel="noopener" href="https://developer.android.com/training/multiscreen/screendensities?hl=zh-cn">支持不同的像素密度<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>。</p>
<h3 id="通过-XML-资源创建可绘制对象"><a href="#通过-XML-资源创建可绘制对象" class="headerlink" title="通过 XML 资源创建可绘制对象"></a>通过 XML 资源创建可绘制对象</h3><p>通过 XML 创建可绘制对象最大的好处就是，你可以设置一些可变化的属性来控制它，这样会更加灵活，也更加方便</p>
<p>使用 XML 定义<code>Drawable</code>后，将文件保存在项目的<code>res/drawable/</code>目录中。</p>
<p>以下示例展示了定义从<code>Drawable</code><br>继承的 <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/graphics/drawable/TransitionDrawable"><code>TransitionDrawable</code></a> 资源的<br>XML：</p>
<div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- res/drawable/expand_collapse.xml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">transition</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/image_expand"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/image_collapse"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<p>然后，通过调用<code>Resources#getDrawable()</code>并传递 XML 文件的资源 ID 来检索并实例化该对象。</p>
<p>所有有<code>inflate()</code>的 <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/graphics/drawable/Drawable"><code>Drawable</code></a> 子类，都可以在<br>XML 中定义并由您的应用实例化。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p><strong>重要提示</strong></p>

    </div>
    <div class="notel-content">
      <p>继承 Drawable 子类的自定义类，必须重写 <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/graphics/drawable/Drawable?hl=zh-cn#getConstantState()"><code>getConstantState()方法</code></a>。</p>
<p>请参阅下面的<a class="link" target="_blank" rel="noopener" href="https://developer.android.com/develop/ui/views/graphics/drawables?hl=zh-cn#Custom">自定义可绘制对象<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>中的要点。</p>

    </div>
  </div>

<p>以下代码会实例化 <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/graphics/drawable/TransitionDrawable"><code>TransitionDrawable</code></a><br>并将其设置为<code>ImageView</code>对象的内容：</p>
<div class="code-container" data-rel="Kotlin"><figure class="iseeu highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> transition= ResourcesCompat.getDrawable(</span><br><span class="line">        context.resources,</span><br><span class="line">        R.drawable.expand_collapse,</span><br><span class="line">        <span class="literal">null</span></span><br><span class="line">) <span class="keyword">as</span> TransitionDrawable</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> image: ImageView = findViewById(R.id.toggle_image)</span><br><span class="line">image.setImageDrawable(transition)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对图片初始状态的内容描述</span></span><br><span class="line">image.contentDescription = resources.getString(R.string.collapsed)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用 transition 的方法</span></span><br><span class="line">transition.startTransition(<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 转换完成后，更改图片的内容描述</span></span><br><span class="line"><span class="comment">// 反映新状态。</span></span><br></pre></td></tr></table></figure></div>


  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p><strong>提示</strong></p>

    </div>
    <div class="notel-content">
      <p><a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/graphics/drawable/TransitionDrawable"><code>TransitionDrawable</code></a>  继承自 <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/graphics/drawable/LayerDrawable"><code>LayerDrawables</code></a>，可以让我们在两层图像中设置淡入淡出效果</p>

    </div>
  </div>

<h3 id="Shape-drawables"><a href="#Shape-drawables" class="headerlink" title="Shape drawables"></a>Shape drawables</h3><p><a href="%5BShapeDrawable%5D(https://developer.android.com/reference/android/graphics/drawable/ShapeDrawable)"><code>Shape Drawable</code></a>  继承自 <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/graphics/drawable/Drawable"><code>Drawable</code></a> 可以让你通过写代码的方式绘制一个图形</p>

  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p><strong>提示</strong></p>

    </div>
    <div class="notel-content">
      <p>Shape Drawable 并不算是矢量图，因为它可以设置具体的像素大小</p>

    </div>
  </div>

<p>由于具有自己的<code>draw()</code>方法，因此你可以在自定义<code>View</code>的<code>onDraw()</code>事件期间调用<code>ShapeDrawable</code>的<code>draw()</code>方法。</p>
<p>如下面的代码示例所示：</p>
<div class="code-container" data-rel="Kotlin"><figure class="iseeu highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CustomDrawableView</span>(context: Context) : View(context) {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> drawable: ShapeDrawable = run {</span><br><span class="line">        <span class="keyword">val</span> x = <span class="number">10</span></span><br><span class="line">        <span class="keyword">val</span> y = <span class="number">10</span></span><br><span class="line">        <span class="keyword">val</span> width = <span class="number">300</span></span><br><span class="line">        <span class="keyword">val</span> height = <span class="number">50</span></span><br><span class="line">        contentDescription = context.resources.getString(R.string.my_view_desc)</span><br><span class="line"></span><br><span class="line">        ShapeDrawable(OvalShape()).apply {</span><br><span class="line">            <span class="comment">// If the color isn't set, the shape uses black as the default.</span></span><br><span class="line">            paint.color = <span class="number">0xff74AC23</span>.toInt()</span><br><span class="line">            <span class="comment">// If the bounds aren't set, the shape can't be drawn.</span></span><br><span class="line">            setBounds(x, y, x + width, y + height)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onDraw</span><span class="params">(canvas: <span class="type">Canvas</span>)</span></span> {</span><br><span class="line">        drawable.draw(canvas)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<p>然后就像使用任何其他自定义<code>View</code>一样</p>
<div class="code-container" data-rel="Kotlin"><figure class="iseeu highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> customDrawableView: CustomDrawableView</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> {</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line">    customDrawableView = CustomDrawableView(<span class="keyword">this</span>)</span><br><span class="line"></span><br><span class="line">    setContentView(customDrawableView)</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">com.example.shapedrawable.CustomDrawableView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br></pre></td></tr></table></figure></div>

<h3 id="NinePatch-drawables-9图片"><a href="#NinePatch-drawables-9图片" class="headerlink" title="NinePatch drawables(.9图片)"></a>NinePatch drawables(.9图片)</h3><p><a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/graphics/drawable/NinePatchDrawable"><code>NinePatchDrawable</code></a><br>图形是可拉伸的位图图像，可用作视图的背景。</p>
<p><code>Android</code>会自动调整图形大小以适应视图的内容。</p>
<p>NinePatch 图像的一个示例是标准 Android 按钮使用的背景，按钮必须拉伸以容纳各种长度的字符串。</p>
<p>NinePatch 图形是标准的 PNG 图像，其中包含额外的 1 像素边框。</p>
<p>它必须与<code>9.png</code>扩展名一起保存在项目<code>res/drawable/</code>目录中，并且还需要删除原图像，否则会报重复错误。</p>
<p>绘制方法</p>
<ul>
<li>通过在边框的左侧和顶部绘制一条（或多条）1 像素宽的黑线来指示可拉伸部分（其他边框像素应为完全透明或白色）</li>
<li>在右侧绘制一条线，在底部绘制一条线来定义图像的可绘制部分（实际上是填充线）。也就是你设置<code>text</code>填充的地方</li>
</ul>
<p><img src="/2023/11/07/Android-%E9%87%8C%E7%9A%84-Bitmap-Drawable-Mipmap%EF%BC%88%E6%B2%A1%E5%86%99%E5%AE%8C%EF%BC%89/ninepatch_raw.png" alt="ninepatch_raw.png"></p>
<h3 id="Custom-drawables（自定义-Drawable）"><a href="#Custom-drawables（自定义-Drawable）" class="headerlink" title="Custom drawables（自定义 Drawable）"></a>Custom drawables（自定义 Drawable）</h3><p>自定义<code>Drawable</code>类似于 自定义<code>View</code></p>
<p>下面的代码显示了绘制圆圈的简单自定义<code>Drawable</code></p>
<div class="code-container" data-rel="Kotlin"><figure class="iseeu highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyDrawable</span> : <span class="type">Drawable</span>() {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> redPaint: Paint = Paint().apply { setARGB(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>) }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">draw</span><span class="params">(canvas: <span class="type">Canvas</span>)</span></span> {</span><br><span class="line">        <span class="comment">// Get the drawable's bounds</span></span><br><span class="line">        <span class="keyword">val</span> width: <span class="built_in">Int</span> = bounds.width()</span><br><span class="line">        <span class="keyword">val</span> height: <span class="built_in">Int</span> = bounds.height()</span><br><span class="line">        <span class="keyword">val</span> radius: <span class="built_in">Float</span> = Math.min(width, height).toFloat() / <span class="number">2f</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Draw a red circle in the center</span></span><br><span class="line">        canvas.drawCircle((width / <span class="number">2</span>).toFloat(), (height / <span class="number">2</span>).toFloat(), radius, redPaint)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">setAlpha</span><span class="params">(alpha: <span class="type">Int</span>)</span></span> {</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">setColorFilter</span><span class="params">(colorFilter: <span class="type">ColorFilter</span>?)</span></span> {</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// PixelFormat.UNKNOWN, TRANSLUCENT, TRANSPARENT, 或者 OPAQUE</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getOpacity</span><span class="params">()</span></span>: <span class="built_in">Int</span> = PixelFormat.OPAQUE</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<h3 id="Add-tint-to-drawables（为可绘制对象添加色调）"><a href="#Add-tint-to-drawables（为可绘制对象添加色调）" class="headerlink" title="Add tint to drawables（为可绘制对象添加色调）"></a>Add tint to drawables（为可绘制对象添加色调）</h3><p>对于 Android 5.0（API 级别 21）及更高版本，您可为位图和定义为 Alpha 蒙版的位图和九宫格着色。</p>
<p>您可以使用颜色资源或解析为颜色资源（例如<code>?android:attr/colorPrimary</code>）的主题属性为其着色。通常，您只需创建一次这些资源，然后自动为其着色以与您的主题相符。</p>
<p>您可以使用<code>setTint()</code>方法对<code>BitmapDrawable</code>、<code>NinePatchDrawable</code>或<code>VectorDrawable</code>对象着色。</p>
<p>您还可以使用<code>android:tint</code>和<code>android:tintMode</code>属性在布局中设置色调颜色和模式。</p>
<p>详细信息请看<a class="link" target="_blank" rel="noopener" href="https://developer.android.com/develop/ui/views/theming/themes?hl=zh-cn">样式和主题背景<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<h3 id="从图片中萃取突出颜色"><a href="#从图片中萃取突出颜色" class="headerlink" title="从图片中萃取突出颜色"></a>从图片中萃取突出颜色</h3><p>Android 支持库包含<code>Palette</code>类，可让您从图片中提取突出颜色。</p>
<p>您可以将可绘制对象作为<code>Bitmap</code>加载，并将其传递给<code>Palette</code><br>以获取其颜色。如需了解详情，请参阅<a class="link" target="_blank" rel="noopener" href="https://developer.android.com/training/material/palette-colors?hl=zh-cn">使用 Palette API 选择颜色<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>。</p>
<h3 id="Vector-drawables（矢量图）"><a href="#Vector-drawables（矢量图）" class="headerlink" title="Vector drawables（矢量图）"></a>Vector drawables（矢量图）</h3><ul>
<li>Vector drawable 是一种矢量图形，在 XML 文件中定义为一组点、线条和曲线及其关联的颜色信息。</li>
<li>Vector drawable 可缩放，这意味着，可在不降低显示质量的情况下调整大小。因此，它们是 Android 应用的理想选择，有助于缩减 APK<br>文件的大小并提升性能。</li>
<li>您可以在 Android Studio 中创建矢量可绘制对象，方法是右键点击项目中的可绘制对象文件夹，然后依次选择“New”&gt;“Vector<br>Asset”。您还可以将 SVG 文件作为矢量可绘制对象导入 Android Studio。</li>
</ul>
<h3 id="关于-VectorDrawable-类"><a href="#关于-VectorDrawable-类" class="headerlink" title="关于 VectorDrawable 类"></a>关于 VectorDrawable 类</h3><p><code>VectorDrawable</code>定义静态可绘制对象。与 SVG 格式类似，每个矢量图形被定义为一个树层次结构，由<code>path</code>和<code>group</code><br>对象组成。每个<code>path</code>都包含对象轮廓的几何图形，<code>group</code>包含转换的详细信息。所有路径的绘制顺序均与它们在 XML 文件中显示的顺序相同。</p>
<p><img src="/2023/11/07/Android-%E9%87%8C%E7%9A%84-Bitmap-Drawable-Mipmap%EF%BC%88%E6%B2%A1%E5%86%99%E5%AE%8C%EF%BC%89/vectorpath.png" alt="vectorpath.png"></p>
<p><a class="link" target="_blank" rel="noopener" href="https://developer.android.com/studio/write/vector-asset-studio?hl=zh-cn">Vector Asset Studio<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a> 工具提供了一种将矢量图形作为<br>XML 文件添加到项目中的简单方法。</p>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>以下<code>VectorDrawable</code>XML 文件示例会渲染充电模式下电池的图片。</p>
<div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- res/drawable/battery_charging.xml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">vector</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:height</span>=<span class="string">"24dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:width</span>=<span class="string">"24dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:viewportWidth</span>=<span class="string">"24.0"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:viewportHeight</span>=<span class="string">"24.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">group</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:name</span>=<span class="string">"rotationGroup"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:pivotX</span>=<span class="string">"10.0"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:pivotY</span>=<span class="string">"10.0"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:rotation</span>=<span class="string">"15.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">path</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:name</span>=<span class="string">"vect"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:fillColor</span>=<span class="string">"#FF000000"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:pathData</span>=<span class="string">"M15.67,4H14V2h-4v2H8.33C7.6,4 7,4.6 7,5.33V9h4.93L13,7v2h4V5.33C17,4.6 16.4,4 15.67,4z"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:fillAlpha</span>=<span class="string">".3"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">path</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:name</span>=<span class="string">"draw"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:fillColor</span>=<span class="string">"#FF000000"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:pathData</span>=<span class="string">"M13,12.5h2L11,20v-5.5H9L11.93,9H7v11.67C7,21.4 7.6,22 8.33,22h7.33c0.74,0 1.34,-0.6 1.34,-1.33V9h-4v3.5z"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">vector</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<p>此 XML 会渲染以下图片：</p>
<p><img src="/2023/11/07/Android-%E9%87%8C%E7%9A%84-Bitmap-Drawable-Mipmap%EF%BC%88%E6%B2%A1%E5%86%99%E5%AE%8C%EF%BC%89/ic_battery_charging_80_black_24dp.png" alt="ic_battery_charging_80_black_24dp.png"></p>
<h3 id="关于-AnimatedVectorDrawable-类"><a href="#关于-AnimatedVectorDrawable-类" class="headerlink" title="关于 AnimatedVectorDrawable 类"></a>关于 AnimatedVectorDrawable 类</h3><p><code>AnimatedVectorDrawable</code>用于为矢量图形的属性添加动画。您可以将动画矢量图形定义为三个单独的资源文件或定义整个可绘制对象的单个<br>XML 文件。</p>
<p>为了更好地理解，我们来看看这两种方法：<a class="link" target="_blank" rel="noopener" href="https://developer.android.com/develop/ui/views/graphics/vector-drawable-resources?hl=zh-cn#multiple-files">多个 XML 文件<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br>和<a class="link" target="_blank" rel="noopener" href="https://developer.android.com/develop/ui/views/graphics/vector-drawable-resources?hl=zh-cn#single-file">单个 XML 文件<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>。</p>
<h4 id="多个-XML-文件"><a href="#多个-XML-文件" class="headerlink" title="多个 XML 文件"></a>多个 XML 文件</h4><p>使用此方法，您可以定义三个单独的 XML 文件：</p>
<ul>
<li>一个<code>VectorDrawable</code>XML 文件。<br>-<code>AnimatedVectorDrawable</code>XML 文件，用于定义目标<code>VectorDrawable</code><br>、要添加动画效果的目标路径和组、属性，以及定义为<code>ObjectAnimator</code>对象或<code>AnimatorSet</code>对象的动画。</li>
<li>一个 Animator XML 文件。</li>
</ul>

  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>示例</p>

    </div>
    <div class="notel-content">
      <p>The following XML files demonstrate the animation of a vector graphic.<br>以下 XML 文件演示矢量图形的动画。</p>
<ul>
<li>VectorDrawable 的 XML 文件：<code>vd.xml</code></li>
</ul>
 <div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">vector</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:height</span>=<span class="string">"64dp"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:width</span>=<span class="string">"64dp"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:viewportHeight</span>=<span class="string">"600"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:viewportWidth</span>=<span class="string">"600"</span> &gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">group</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:name</span>=<span class="string">"rotationGroup"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:pivotX</span>=<span class="string">"300.0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:pivotY</span>=<span class="string">"300.0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:rotation</span>=<span class="string">"45.0"</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">path</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:name</span>=<span class="string">"vectorPath"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:fillColor</span>=<span class="string">"#000000"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:pathData</span>=<span class="string">"M300,70 l 0,-70 70,70 0,0 -70,70z"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">vector</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<ul>
<li>AnimatedVectorDrawable 的 XML 文件：<code>avd.xml</code></li>
</ul>
 <div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">animated-vector</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:drawable</span>=<span class="string">"@drawable/vd"</span> &gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">target</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:name</span>=<span class="string">"rotationGroup"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:animation</span>=<span class="string">"@anim/rotation"</span> /&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">target</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:name</span>=<span class="string">"vectorPath"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:animation</span>=<span class="string">"@anim/path_morph"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">animated-vector</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<ul>
<li>AnimatedVectorDrawable 的 XML 文件中使用的 Animator XML 文件：<code>rotation.xml</code>以及<code>path_morph.xml</code></li>
</ul>
 <div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">objectAnimator</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:duration</span>=<span class="string">"6000"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:propertyName</span>=<span class="string">"rotation"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:valueFrom</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:valueTo</span>=<span class="string">"360"</span> /&gt;</span></span><br></pre></td></tr></table></figure></div>

 <div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">objectAnimator</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:duration</span>=<span class="string">"3000"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:propertyName</span>=<span class="string">"pathData"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:valueFrom</span>=<span class="string">"M300,70 l 0,-70 70,70 0,0   -70,70z"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:valueTo</span>=<span class="string">"M300,70 l 0,-70 70,0  0,140 -70,0 z"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:valueType</span>=<span class="string">"pathType"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

    </div>
  </div>

<h4 id="单个-XML-文件"><a href="#单个-XML-文件" class="headerlink" title="单个 XML 文件"></a>单个 XML 文件</h4><p>通过使用此方法，可以通过 XML 捆绑格式将相关的 XML 文件合并到单个 XML 文件中。</p>
<p>在构建应用时，<code>aapt</code>标记会创建单独的资源，并在动画矢量中引用它们。</p>
<p>此方法需要生成工具 24 或更高版本，并且输出向后兼容。</p>

  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>示例</p>

    </div>
    <div class="notel-content">
      <div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">animated-vector</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:aapt</span>=<span class="string">"http://schemas.android.com/aapt"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aapt:attr</span> <span class="attr">name</span>=<span class="string">"android:drawable"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vector</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:width</span>=<span class="string">"24dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:height</span>=<span class="string">"24dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:viewportWidth</span>=<span class="string">"24"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:viewportHeight</span>=<span class="string">"24"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:name</span>=<span class="string">"root"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:strokeWidth</span>=<span class="string">"2"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:strokeLineCap</span>=<span class="string">"square"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:strokeColor</span>=<span class="string">"?android:colorControlNormal"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:pathData</span>=<span class="string">"M4.8,13.4 L9,17.6 M10.4,16.2 L19.6,7"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">vector</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aapt:attr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">target</span> <span class="attr">android:name</span>=<span class="string">"root"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aapt:attr</span> <span class="attr">name</span>=<span class="string">"android:animation"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">objectAnimator</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:propertyName</span>=<span class="string">"pathData"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:valueFrom</span>=<span class="string">"M4.8,13.4 L9,17.6 M10.4,16.2 L19.6,7"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:valueTo</span>=<span class="string">"M6.4,6.4 L17.6,17.6 M6.4,17.6 L17.6,6.4"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:duration</span>=<span class="string">"300"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:interpolator</span>=<span class="string">"@android:interpolator/fast_out_slow_in"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:valueType</span>=<span class="string">"pathType"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">aapt:attr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">animated-vector</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

    </div>
  </div>

<h3 id="矢量可绘制对象向后兼容解决方案"><a href="#矢量可绘制对象向后兼容解决方案" class="headerlink" title="矢量可绘制对象向后兼容解决方案"></a>矢量可绘制对象向后兼容解决方案</h3><p>为了在运行平台版本低于 Android 5.0（API 级别 21）的设备上支持矢量可绘制对象和添加动画效果的矢量可绘制对象，或使用低于<br>Android 7.0（API 级别 24）的<code>fillColor</code>、<code>fillType</code>和<code>strokeColor</code>功能，<code>VectorDrawableCompat</code><br>和<code>AnimatedVectorDrawableCompat</code>可通过两个支持库分别通过<code>support-vector-drawable</code>和<code>animated-vector-drawable</code>获得。</p>
<p>Android Studio 1.4 通过在构建时生成 PNG 文件引入了对矢量可绘制对象的有限兼容性支持。不过，矢量可绘制对象和动画矢量可绘制对象支持库既灵活又具有广泛的兼容性，它是一个支持库，因此您可以在低至<br>Android 2.1（API 级别 7 及更高级别）的所有 Android 平台版本中使用它。如需将应用配置为使用矢量支持库，请将<code>vectorDrawables</code><br>元素添加到应用模块的<code>build.gradle</code>文件中。</p>
<p>使用以下代码段配置<code>vectorDrawables</code>元素：</p>
<div class="code-container" data-rel="Kotlin"><figure class="iseeu highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// For Gradle Plugin 2.0+</span></span><br><span class="line">android {</span><br><span class="line">    defaultConfig {</span><br><span class="line">        vectorDrawables.useSupportLibrary = <span class="literal">true</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<div class="code-container" data-rel="Kotlin"><figure class="iseeu highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// For Gradle Plugin 1.5 or below</span></span><br><span class="line">android {</span><br><span class="line">    defaultConfig {</span><br><span class="line">        <span class="comment">// Stops the Gradle plugin’s automatic rasterization of vectors</span></span><br><span class="line">        generatedDensities()</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// Flag notifies aapt to keep the attribute IDs around</span></span><br><span class="line">    aaptOptions {</span><br><span class="line">        additionalParameters(<span class="string">"--no-version-vectors"</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<p>您可以在搭载 Android 4.0（API 级别 14）及更高版本的所有设备上使用<code>VectorDrawableCompat</code><br>和<code>AnimatedVectorDrawableCompat</code>。</p>
<p>Android 加载可绘制对象的方式（而不是每个接受可绘制对象 ID 的地点（例如 XML 文件中）都支持加载矢量可绘制对象。</p>
<p><code>android.support.v7.appcompat</code>软件包添加了许多功能，以便轻松使用矢量可绘制对象。</p>
<p>首先，当您将<code>android.support.v7.appcompat</code>软件包与<code>ImageView</code>或<code>ImageButton</code>和<code>FloatingActionButton</code><br>等子类一起使用时，可以使用新的<code>app:srcCompat</code>属性来引用矢量可绘制对象以及<code>android:src</code>可用的任何其他可绘制对象：</p>
<div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:srcCompat</span>=<span class="string">"@drawable/ic_add"</span>/&gt;</span></span><br></pre></td></tr></table></figure></div>

<ul>
<li><p>要在运行时更改可绘制对象，您可以像以前一样使用<code>setImageResource()</code><br>方法。要将矢量可绘制对象集成到应用中，使用<code>AppCompat</code>和<code>app:srcCompat</code>是最万无一失的方法。</p>
<p>支持库 25.4.0 及更高版本支持以下功能：</p>
<ul>
<li><strong>路径变形（PathType 评估器）</strong>：用于将一条路径变形为另一个路径。</li>
<li><strong>路径插值</strong>：用于定义灵活的插值器（表示为路径），而不是系统定义的插值器（如 LinearInterpolator）。<br>  支持库 26.0.0-beta1 及更高版本支持以下功能：</li>
<li><strong>沿路径移动</strong>：几何图形对象可以在动画中沿着任意路径四处移动。</li>
</ul>
</li>
<li><p>使用支持库的多个 XML 文件的示例</p>
</li>
</ul>
<p>以下 XML 文件演示了使用多个 XML 文件为矢量图形添加动画效果的方法。</p>
<ul>
<li>VectorDrawable 的 XML 文件：<code>vd.xml</code></li>
</ul>
 <div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">vector</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:height</span>=<span class="string">"64dp"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:width</span>=<span class="string">"64dp"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:viewportHeight</span>=<span class="string">"600"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:viewportWidth</span>=<span class="string">"600"</span> &gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">group</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:name</span>=<span class="string">"rotationGroup"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:pivotX</span>=<span class="string">"300.0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:pivotY</span>=<span class="string">"300.0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:rotation</span>=<span class="string">"45.0"</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">path</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:name</span>=<span class="string">"vectorPath"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:fillColor</span>=<span class="string">"#000000"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:pathData</span>=<span class="string">"M300,70 l 0,-70 70,70 0,0 -70,70z"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">vector</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<ul>
<li>AnimatedVectorDrawable 的 XML 文件：<code>avd.xml</code></li>
</ul>
 <div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">animated-vector</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:drawable</span>=<span class="string">"@drawable/vd"</span> &gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">target</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:name</span>=<span class="string">"rotationGroup"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:animation</span>=<span class="string">"@anim/rotation"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">animated-vector</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<ul>
<li>Animator XML file that is used in the AnimatedVectorDrawable’s XML file:<code>rotation.xml</code></li>
</ul>
 <div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">objectAnimator</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:duration</span>=<span class="string">"6000"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:propertyName</span>=<span class="string">"rotation"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:valueFrom</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:valueTo</span>=<span class="string">"360"</span> /&gt;</span></span><br></pre></td></tr></table></figure></div>

<p>以下 XML 文件演示了使用单个 XML 文件为矢量图形添加动画效果的方法。构建应用时，<code>aapt</code>标记会创建单独的资源，并在动画矢量中引用这些资源。此方法需要<br>Build Tools 24 或更高版本，并且输出可向后兼容。</p>
<ul>
<li>单个 XML 文件的示例</li>
</ul>
<div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">animated-vector</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:aapt</span>=<span class="string">"http://schemas.android.com/aapt"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aapt:attr</span> <span class="attr">name</span>=<span class="string">"android:drawable"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vector</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:width</span>=<span class="string">"64dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:height</span>=<span class="string">"64dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:viewportWidth</span>=<span class="string">"600"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:viewportHeight</span>=<span class="string">"600"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">group</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:name</span>=<span class="string">"rotationGroup"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:pivotX</span>=<span class="string">"300"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:pivotY</span>=<span class="string">"300"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:rotation</span>=<span class="string">"45.0"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">path</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:name</span>=<span class="string">"vectorPath"</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:fillColor</span>=<span class="string">"#000000"</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:pathData</span>=<span class="string">"M300,70 l 0,-70 70,70 0,0 -70,70z"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">group</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">vector</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aapt:attr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">target</span> <span class="attr">android:name</span>=<span class="string">"rotationGroup"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aapt:attr</span> <span class="attr">name</span>=<span class="string">"android:animation"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">objectAnimator</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:propertyName</span>=<span class="string">"rotation"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:valueFrom</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:valueTo</span>=<span class="string">"360"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:duration</span>=<span class="string">"6000"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:interpolator</span>=<span class="string">"@android:interpolator/fast_out_slow_in"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">aapt:attr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">animated-vector</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<h2 id="使用-Bitmap"><a href="#使用-Bitmap" class="headerlink" title="使用 Bitmap"></a>使用 Bitmap</h2><h3 id="位深和色深"><a href="#位深和色深" class="headerlink" title="位深和色深"></a>位深和色深</h3><p>首先我们需要理解两个概念：位深和色深</p>
<p><img src="/2023/11/07/Android-%E9%87%8C%E7%9A%84-Bitmap-Drawable-Mipmap%EF%BC%88%E6%B2%A1%E5%86%99%E5%AE%8C%EF%BC%89/%E4%BD%8D%E6%B7%B1.png" alt="位深.png"></p>
<p>可以看到其实这是一个非常有歧义的概念</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>重要提示</p>

    </div>
    <div class="notel-content">
      <p>通常说 8bit 图指的是每个颜色通道占 8 位，也就也是 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.452ex;" xmlns="http://www.w3.org/2000/svg" width="10.792ex" height="2.339ex" role="img" focusable="false" viewBox="0 -833.9 4770.1 1033.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z"></path></g></g><g data-mml-node="mo" transform="translate(1214.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(2270.1,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z" transform="translate(500,0)"></path><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z" transform="translate(1000,0)"></path></g><g data-mml-node="mi" transform="translate(3770.1,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">位</text></g></g></g></svg></mjx-container>（0 ~ 255）</p>
<p>如果是 RGB 格式，那总共就占 3×8=24 位，RGBA 格式总共就占 4×8=32 位</p>
<p>不用太过于纠结这两个概念，只要能清楚描述每个像素的占用就行</p>
<p>包括买显示器的时候也要注意，不要看话术，关键在于像素排列，每个像素占几位（也就是色彩范围）</p>

    </div>
  </div>

<p>接下来我们看看 Bitmap 的创建，处理，序列化</p>
<h3 id="存储格式"><a href="#存储格式" class="headerlink" title="存储格式"></a>存储格式</h3><p>就位图的存储格式而言，我们会想到 PNG，JPG</p>
<p>当然，Android 也确实给了我们这些格式</p>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// android.graphics.Bitmap</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">CompressFormat</span> {</span><br><span class="line">    JPEG          (<span class="number">0</span>),</span><br><span class="line">    PNG           (<span class="number">1</span>),</span><br><span class="line">    <span class="meta">@Deprecated</span></span><br><span class="line">    WEBP          (<span class="number">2</span>),</span><br><span class="line">    WEBP_LOSSY    (<span class="number">3</span>),</span><br><span class="line">    WEBP_LOSSLESS (<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">    CompressFormat(<span class="type">int</span> nativeInt) {</span><br><span class="line">        <span class="built_in">this</span>.nativeInt = nativeInt;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">final</span> <span class="type">int</span> nativeInt;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<table>
<thead>
<tr>
<th>枚举值</th>
<th>Bitmap.CompressFormat</th>
</tr>
</thead>
<tbody><tr>
<td><code>JPEG</code></td>
<td>压缩为 JPEG 格式。</td>
</tr>
<tr>
<td><code>PNG</code></td>
<td>Compress to the PNG format.  压缩为 PNG 格式。</td>
</tr>
<tr>
<td><code>WEBP</code></td>
<td>此字段在 API 级别 30 中已弃用。赞成更明确的<code>CompressFormat#WEBP_LOSSY</code>和<code>CompressFormat#WEBP_LOSSLESS</code>.*</td>
</tr>
<tr>
<td><code>WEBP_LOSSLESS</code></td>
<td>压缩为 WEBP 无损格式。</td>
</tr>
<tr>
<td><code>WEBP_LOSSY</code></td>
<td>压缩为 WEBP 有损格式。</td>
</tr>
</tbody></table>
<h3 id="色彩格式"><a href="#色彩格式" class="headerlink" title="色彩格式"></a>色彩格式</h3><p>同样，图片他肯定会有色彩格式，什么 256色，8位色，RGB，RGBA</p>
<p>这个 Android 肯定也给了</p>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Config</span> {</span><br><span class="line">    ALPHA_8(<span class="number">1</span>),</span><br><span class="line">    RGB_565(<span class="number">3</span>),</span><br><span class="line">    <span class="meta">@Deprecated</span></span><br><span class="line">    ARGB_4444(<span class="number">4</span>),</span><br><span class="line">    ARGB_8888(<span class="number">5</span>),</span><br><span class="line">    RGBA_F16(<span class="number">6</span>),</span><br><span class="line">    HARDWARE(<span class="number">7</span>),</span><br><span class="line">    RGBA_1010102(<span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@UnsupportedAppUsage</span></span><br><span class="line">    <span class="keyword">final</span> <span class="type">int</span> nativeInt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Config sConfigs[] = {</span><br><span class="line">        <span class="literal">null</span>, ALPHA_8, <span class="literal">null</span>, RGB_565, ARGB_4444, ARGB_8888, RGBA_F16, HARDWARE, RGBA_1010102</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    Config(<span class="type">int</span> ni) {</span><br><span class="line">        <span class="built_in">this</span>.nativeInt = ni;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@UnsupportedAppUsage</span></span><br><span class="line">    <span class="keyword">static</span> Config <span class="title function_">nativeToConfig</span><span class="params">(<span class="type">int</span> ni)</span> {</span><br><span class="line">        <span class="keyword">return</span> sConfigs[ni];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<table>
<thead>
<tr>
<th align="left">枚举值</th>
<th>Bitmap.Config</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>ALPHA_8</code></td>
<td>每个像素都存储为单个半透明 （alpha） 通道，每个像素占一个字节。</td>
</tr>
<tr>
<td align="left"><code>ARGB_4444</code></td>
<td>RGBA 组成，每部分占 4 位，共 16 位。每个像素占 2 字节此字段在 API 级别 29 中已弃用。由于此配置的质量较差，建议改用<code>ARGB_8888</code>。*</td>
</tr>
<tr>
<td align="left"><code>ARGB_8888</code></td>
<td>RGBA 组成，每部分占 8 位，共 32 位。每个像素占 4 字节。</td>
</tr>
<tr>
<td align="left"><code>HARDWARE</code></td>
<td>特殊配置，当位图仅存储在图形内存中时。</td>
</tr>
<tr>
<td align="left"><code>RGBA_1010102</code></td>
<td>每个像素占 4 字节。</td>
</tr>
<tr>
<td align="left"><code>RGBA_F16</code></td>
<td>每个像素占 8 字节。</td>
</tr>
<tr>
<td align="left"><code>RGB_565</code></td>
<td>每个像素占 2 字节，仅对 RGB 通道进行编码：红色 5 位，绿色 6 位，蓝色 5 位。</td>
</tr>
</tbody></table>
<p>一般情况下，我们不会使用 ALPHA_8,他只存储透明度，没啥用处。</p>
<p>对于 ARGB_4444，它的画质又太感人了。</p>
<p>ARGB_8888 画质高但是太占内存。</p>
<p>RGB_565 还行，就是不可以设置透明度。<br>注意以下三点即可：</p>
<ul>
<li>一般情况下用 ARGB_8888 格式存储 Bitmap</li>
<li>ARGB_4444 画面惨不忍睹，被弃用</li>
<li>假如对图片没有透明度要求，可以使用 RGB_565，比 ARGB_8888 节省一半的内存开销</li>
</ul>
<h3 id="创建方法"><a href="#创建方法" class="headerlink" title="创建方法"></a>创建方法</h3><h4 id="BitmapFactory"><a href="#BitmapFactory" class="headerlink" title="BitmapFactory"></a>BitmapFactory</h4><p><img src="/2023/11/07/Android-%E9%87%8C%E7%9A%84-Bitmap-Drawable-Mipmap%EF%BC%88%E6%B2%A1%E5%86%99%E5%AE%8C%EF%BC%89/BitmapFactory.png" alt="BitmapFactory.png"></p>
<p>可见 BitmapFactory 有很多方便我们将图片加载成 Bitmap 的方法，并且还有一个 Options 类来方便我们进行一些其他的配置</p>
<p>接下来我们看看 bitmapFactory.Options</p>
<p><img src="/2023/11/07/Android-%E9%87%8C%E7%9A%84-Bitmap-Drawable-Mipmap%EF%BC%88%E6%B2%A1%E5%86%99%E5%AE%8C%EF%BC%89/BitmapFactory.Options.png" alt="BitmapFactory.Options.png"></p>
<p>可以看到有很多成员变量，根据前缀可以将他们分为，in 开头和 out 开头</p>
<ul>
<li><p>in 前缀：这些成员变量是用作输入参数，在调用 decode 方法时，你可以设置这些选项来影响图像的加载方式。</p>
<p>例如，inSampleSize 用于指定图像的采样率，inPreferredConfig 用于指定图像的颜色配置，inJustDecodeBounds 用于仅获取图像的尺寸信息而不加载整个图像等等。这些选项用于控制图像的加载行为和内存使用情况。</p>
</li>
<li><p>out 前缀：这些成员变量在调用 decode 方法后会被填充和更新，用于返回有关加载图像的信息。</p>
<p>例如，outWidth 和 outHeight 用于存储解码后图像的宽度和高度信息，outMimeType 用于存储解码后图像的 MIME 类型，outColorSpace 用于存储解码后图像的色彩空间等等。这些选项用于获取解码后图像的信息而无需加载整个图像。</p>
</li>
</ul>
<h4 id="Bitmap"><a href="#Bitmap" class="headerlink" title="Bitmap"></a>Bitmap</h4><p><img src="/2023/11/07/Android-%E9%87%8C%E7%9A%84-Bitmap-Drawable-Mipmap%EF%BC%88%E6%B2%A1%E5%86%99%E5%AE%8C%EF%BC%89/Bitmap.png" alt="Bitmap.png"></p>
<p>这里的方法都是创建空白的 Bitmap 或者需要自己绘制的 Bitmap</p>
<h3 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h3><h4 id="计算-Bitmap-大小"><a href="#计算-Bitmap-大小" class="headerlink" title="计算 Bitmap 大小"></a>计算 Bitmap 大小</h4><p><img src="/2023/11/07/Android-%E9%87%8C%E7%9A%84-Bitmap-Drawable-Mipmap%EF%BC%88%E6%B2%A1%E5%86%99%E5%AE%8C%EF%BC%89/moon.jpg" alt="earth.png"></p>
<p>我们加载这个漂亮的（实际文件大小是 192309 字节）</p>
<p>根据我们的了解，如果我们加载这张图片， 应该是 1920 × 1080×4 = 8294400 byte</p>
<p>我们计算验证一下</p>
<div class="code-container" data-rel="Kotlin"><figure class="iseeu highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> bitmap = BitmapFactory.decodeResource(resources, resId)</span><br><span class="line">Log.i(</span><br><span class="line">  <span class="string">"lucas"</span>,</span><br><span class="line">  <span class="string">"bitmap=<span class="subst">${bitmap.byteCount}</span>\n宽度=<span class="subst">${bitmap.width}</span>\n高度=<span class="subst">${bitmap.height}</span>"</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></div>

<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bitmap=62726400</span><br><span class="line">宽度=5280</span><br><span class="line">高度=2970</span><br></pre></td></tr></table></figure></div>

<p>这三个数是怎么来的呢？</p>
<p>首先宽度和高度，需要经过 <a class="link" target="_blank" rel="noopener" href="https://darkflamemasterdev.github.io/2023/11/08/Android-%E9%87%8C%E7%9A%84-dpi-dp-px/">dp 和 px 的换算<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>，获取 desity 为 2.75，而这个 density 就是 Bitmap 的密度，当然你也可以自定义密度，但默认用的是系统自己的密度</p>
<p>宽度 = 1920×2.75 = 5280</p>
<p>高度 = 1080×2.75 = 2970</p>
<p>bitmap 的 ByteCount = 4 × 宽度 × 高度 = 62726400（4 是因为 ARGB_8888 一个像素占 4字节）</p>
<p>62726400 byte ≈ 59.82 MB</p>
<p>可以看到，62726400 ÷ 192309 ≈ 326.175 加载这个图片会直接放大 326 倍</p>
<p>这个占用可以说是非常恐怖了</p>
<h4 id="质量压缩"><a href="#质量压缩" class="headerlink" title="质量压缩"></a>质量压缩</h4><p>对于一张图片，我们在不改变分辨率的情况下，改变它的像素的占用，或者将效果不明显的像素删除以方便压缩至更小体积，这就是质量压缩</p>
<p>质量压缩不会改变 Bitmap 的内存占用（因为 Bitmap 的内存占用只和尺寸有关），但会改变序列化到硬盘里的图片文件大小</p>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ByteArrayOutputStream</span> <span class="variable">baos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>();</span><br><span class="line"><span class="type">int</span> <span class="variable">quality</span> <span class="operator">=</span> Integer.valueOf(editText.getText().toString());</span><br><span class="line">bit.compress(CompressFormat.JPEG, quality, baos);</span><br><span class="line"><span class="type">byte</span>[] bytes = baos.toByteArray();</span><br><span class="line">bm = BitmapFactory.decodeByteArray(bytes, <span class="number">0</span>, bytes.length);</span><br></pre></td></tr></table></figure></div>

<h4 id="尺寸压缩"><a href="#尺寸压缩" class="headerlink" title="尺寸压缩"></a>尺寸压缩</h4><p>尺寸压缩，顾名思义，就是将尺寸缩小（或者说分辨率降低），以此来压缩图片</p>
<p>尺寸压缩会直接缩小 Bitmap 的内存占用，也会压缩输出到硬盘的图片文件大小</p>
<ol>
<li><p>改变 inSampleSize</p>
<div class="code-container" data-rel="Kotlin"><figure class="iseeu highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">decodeSampleBitmapFromResource</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">  res: <span class="type">Resources</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  resId: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  reqWidth: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  reqHeight: <span class="type">Int</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span>: Bitmap {</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 获取图片的原始宽高</span></span><br><span class="line">  <span class="keyword">val</span> options = BitmapFactory.Options()</span><br><span class="line">  options.inJustDecodeBounds = <span class="literal">true</span></span><br><span class="line">  BitmapFactory.decodeResource(res, resId, options)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 计算缩放比例</span></span><br><span class="line">  options.inSampleSize = calculateInSampleSize(options,    reqWidth, reqHeight)</span><br><span class="line"></span><br><span class="line">  options.inJustDecodeBounds = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">return</span> BitmapFactory.decodeResource(res, resId, options)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">calculateInSampleSize</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">  options: <span class="type">BitmapFactory</span>.<span class="type">Options</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  reqWidth: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  reqHeight: <span class="type">Int</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span>: <span class="built_in">Int</span> {</span><br><span class="line">  <span class="keyword">val</span> height = options.outHeight</span><br><span class="line">  <span class="keyword">val</span> width = options.outWidth</span><br><span class="line">  <span class="keyword">var</span> inSampleSize = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (height &gt; reqHeight || width &gt; reqWidth) {</span><br><span class="line">    <span class="keyword">val</span> halfHeight = height / <span class="number">2</span></span><br><span class="line">    <span class="keyword">val</span> halfWidth = width / <span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> (halfHeight / inSampleSize &gt;= reqHeight &amp;&amp; halfWidth /   inSampleSize &gt;= reqWidth) {</span><br><span class="line">      inSampleSize *= <span class="number">2</span></span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> inSampleSize</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>改变 inDensity<br>这个变量就是改变 Bitmap 密度的<br>如果你将</p>
</li>
</ol>

		</div>

		
		<div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
			<div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> Android 里的 Bitmap、Drawable、Mipmap（没写完）</li>
        <li><strong>Author:</strong> lucas</li>
        <li><strong>Created at
                :</strong> 2023-11-07 11:14:23</li>
        
            <li>
                <strong>Updated at
                    :</strong> 2025-04-23 17:23:15
            </li>
        
        <li>
            <strong>Link:</strong> https://darkflamemasterdev.github.io/2023/11/07/Android-里的-Bitmap-Drawable-Mipmap（没写完）/
        </li>
        <li>
            <strong>
                License:
            </strong>
            

            
                This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.
            
        </li>
    </ul>
</div>

		</div>
		

		
		<ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden">
			
			<li class="tag-item mx-0.5">
				<a href="/tags/Android/">#Android</a>&nbsp;
			</li>
			
			<li class="tag-item mx-0.5">
				<a href="/tags/Bitmap/">#Bitmap</a>&nbsp;
			</li>
			
			<li class="tag-item mx-0.5">
				<a href="/tags/Drawable/">#Drawable</a>&nbsp;
			</li>
			
			<li class="tag-item mx-0.5">
				<a href="/tags/Mipmap/">#Mipmap</a>&nbsp;
			</li>
			
			<li class="tag-item mx-0.5">
				<a href="/tags/%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86/">#图片处理</a>&nbsp;
			</li>
			
		</ul>
		

		
  <div class="recommended-article px-2 sm:px-6 md:px-8">
   <div class="recommended-desktop">
    <div class="recommended-article-header text-xl md:text-3xl font-bold mt-10">
     <i aria-hidden="true"></i><span>其他文章</span>
    </div>
    <div class="recommended-article-group"><a class="recommended-article-item" href="/2025/03/05/Android-Studio-Gradle-版本兼容性适配（理论篇）/" title="Android Studio Gradle 版本兼容性适配（理论篇）" rel="bookmark">
  <img src="https://darkflamemasterdev.github.io/img/language_headimg.png" alt="Android Studio Gradle 版本兼容性适配（理论篇）" class="!max-w-none">
  <span class="title">Android Studio Gradle 版本兼容性适配（理论篇）</span>
</a><a class="recommended-article-item" href="/2023/04/23/开发小知识、问题（持续更新）/" title="开发小知识、问题（持续更新）" rel="bookmark">
  <img src="https://darkflamemasterdev.github.io/img/language_headimg.png" alt="开发小知识、问题（持续更新）" class="!max-w-none">
  <span class="title">开发小知识、问题（持续更新）</span>
</a><a class="recommended-article-item" href="/2023/12/08/Android自定义View02-绘制流程/" title="Android自定义View02 - 绘制流程" rel="bookmark">
  <img src="https://darkflamemasterdev.github.io/img/language_headimg.png" alt="Android自定义View02 - 绘制流程" class="!max-w-none">
  <span class="title">Android自定义View02 - 绘制流程</span>
</a></div>
   </div>
   <div class="recommended-mobile">
   <div class="recommended-article-header text-xl md:text-3xl font-bold mt-10">
     <i aria-hidden="true"></i><span>其他文章</span>
   </div>
   <div class="recommended-article-group"><a class="recommended-article-item" href="/2025/03/05/Android-Studio-Gradle-版本兼容性适配（理论篇）/" title="Android Studio Gradle 版本兼容性适配（理论篇）" rel="bookmark">
  <img src="https://darkflamemasterdev.github.io/img/language_headimg.png" alt="Android Studio Gradle 版本兼容性适配（理论篇）" class="!max-w-none">
  <span class="title">Android Studio Gradle 版本兼容性适配（理论篇）</span>
</a><a class="recommended-article-item" href="/2023/04/23/开发小知识、问题（持续更新）/" title="开发小知识、问题（持续更新）" rel="bookmark">
  <img src="https://darkflamemasterdev.github.io/img/language_headimg.png" alt="开发小知识、问题（持续更新）" class="!max-w-none">
  <span class="title">开发小知识、问题（持续更新）</span>
</a></div>
   </div>
  </div>

		
		<div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
			
			<div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
				<a class="prev" rel="prev" href="/2023/11/08/Android-%E9%87%8C%E7%9A%84-dpi-dp-px/">
					<span class="left arrow-icon flex justify-center items-center">
						<i class="fa-solid fa-chevron-left"></i>
					</span>
					<span class="title flex justify-center items-center">
						<span class="post-nav-title-item">Android 里的 dpi dp px</span>
						<span class="post-nav-item">Prev posts</span>
					</span>
				</a>
			</div>
			
			
			<div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
				<a class="next" rel="next" href="/2023/11/06/Kotlin-%E6%89%8B%E5%8A%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">
					<span class="title flex justify-center items-center">
						<span class="post-nav-title-item">Kotlin 手动环境配置</span>
						<span class="post-nav-item">Next posts</span>
					</span>
					<span class="right arrow-icon flex justify-center items-center">
						<i class="fa-solid fa-chevron-right"></i>
					</span>
				</a>
			</div>
			
		</div>
		


		
		<div class="comment-container px-2 sm:px-6 md:px-8 pb-8">
			<div class="comments-container mt-10 w-full ">
    <div id="comment-anchor" class="w-full h-2.5"></div>
    <div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">
        Comments
    </div>
    

        
            
    <div id="gitalk-container"></div>
    <script data-swup-reload-script
            src="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js"></script>
    <script data-swup-reload-script>

        function loadGitalk() {
            let __gitalk__pathname = decodeURI(location.pathname);
            const __gitalk__pathnameLength = __gitalk__pathname.length;
            const __gitalk__pathnameMaxLength = 50;
            if (__gitalk__pathnameLength > __gitalk__pathnameMaxLength) {
                __gitalk__pathname = __gitalk__pathname.substring(0, __gitalk__pathnameMaxLength - 3) + '...';
            }

            try {
                Gitalk && new Gitalk({
                    clientID: '93e6ea4b03a1de4487db',
                    clientSecret: '519cb1844d6e3adfa445b4c59b13cfedf926b152',
                    repo: 'forGitalk',
                    owner: 'DarkFlameMasterDev',
                    admin: ['DarkFlameMasterDev'],
                    id: __gitalk__pathname,
                    language: 'en',
                    proxy: 'https://github.com/login/oauth/access_token'
                }).render('gitalk-container');

            } catch (e) {
                window.Gitalk = null;
            }
        }

        if ('true') {
            const loadGitalkTimeout = setTimeout(() => {
                loadGitalk();
                clearTimeout(loadGitalkTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadGitalk);
        }
    </script>



        
    
</div>

		</div>
		
	</div>

	
	<div class="toc-content-container">
		<div class="post-toc-wrap">
	<div class="post-toc">
		<div class="toc-title">On this page</div>
		<div class="page-title">Android 里的 Bitmap、Drawable、Mipmap（没写完）</div>
		<ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Drawable-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-text">Drawable 是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bitmap-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-text">Bitmap 是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mipmap-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-text">Mipmap 是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Drawable-Bitmap-%E4%BA%92%E8%BD%AC%EF%BC%9F%EF%BC%9F%EF%BC%9F"><span class="nav-text">Drawable Bitmap 互转？？？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Drawable"><span class="nav-text">使用 Drawable</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E8%B5%84%E6%BA%90%E5%9B%BE%E7%89%87%E5%88%9B%E5%BB%BA-Drawable"><span class="nav-text">通过资源图片创建 Drawable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87-XML-%E8%B5%84%E6%BA%90%E5%88%9B%E5%BB%BA%E5%8F%AF%E7%BB%98%E5%88%B6%E5%AF%B9%E8%B1%A1"><span class="nav-text">通过 XML 资源创建可绘制对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Shape-drawables"><span class="nav-text">Shape drawables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NinePatch-drawables-9%E5%9B%BE%E7%89%87"><span class="nav-text">NinePatch drawables(.9图片)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Custom-drawables%EF%BC%88%E8%87%AA%E5%AE%9A%E4%B9%89-Drawable%EF%BC%89"><span class="nav-text">Custom drawables（自定义 Drawable）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Add-tint-to-drawables%EF%BC%88%E4%B8%BA%E5%8F%AF%E7%BB%98%E5%88%B6%E5%AF%B9%E8%B1%A1%E6%B7%BB%E5%8A%A0%E8%89%B2%E8%B0%83%EF%BC%89"><span class="nav-text">Add tint to drawables（为可绘制对象添加色调）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E5%9B%BE%E7%89%87%E4%B8%AD%E8%90%83%E5%8F%96%E7%AA%81%E5%87%BA%E9%A2%9C%E8%89%B2"><span class="nav-text">从图片中萃取突出颜色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vector-drawables%EF%BC%88%E7%9F%A2%E9%87%8F%E5%9B%BE%EF%BC%89"><span class="nav-text">Vector drawables（矢量图）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E-VectorDrawable-%E7%B1%BB"><span class="nav-text">关于 VectorDrawable 类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B"><span class="nav-text">示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E-AnimatedVectorDrawable-%E7%B1%BB"><span class="nav-text">关于 AnimatedVectorDrawable 类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E4%B8%AA-XML-%E6%96%87%E4%BB%B6"><span class="nav-text">多个 XML 文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E4%B8%AA-XML-%E6%96%87%E4%BB%B6"><span class="nav-text">单个 XML 文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A2%E9%87%8F%E5%8F%AF%E7%BB%98%E5%88%B6%E5%AF%B9%E8%B1%A1%E5%90%91%E5%90%8E%E5%85%BC%E5%AE%B9%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-text">矢量可绘制对象向后兼容解决方案</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Bitmap"><span class="nav-text">使用 Bitmap</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%8D%E6%B7%B1%E5%92%8C%E8%89%B2%E6%B7%B1"><span class="nav-text">位深和色深</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E6%A0%BC%E5%BC%8F"><span class="nav-text">存储格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%89%B2%E5%BD%A9%E6%A0%BC%E5%BC%8F"><span class="nav-text">色彩格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B9%E6%B3%95"><span class="nav-text">创建方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#BitmapFactory"><span class="nav-text">BitmapFactory</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bitmap"><span class="nav-text">Bitmap</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%8B%E7%BC%A9"><span class="nav-text">压缩</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97-Bitmap-%E5%A4%A7%E5%B0%8F"><span class="nav-text">计算 Bitmap 大小</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B4%A8%E9%87%8F%E5%8E%8B%E7%BC%A9"><span class="nav-text">质量压缩</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%BA%E5%AF%B8%E5%8E%8B%E7%BC%A9"><span class="nav-text">尺寸压缩</span></a></li></ol></li></ol></li></ol>

	</div>
</div>
	</div>
	
</div>
			</div>

			
		</div>

		<div class="main-content-footer">
			<footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2023</span>
              -
            
            2025&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">lucas</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        63 posts in total
                    </span>
                    
                        <span>
                            115.2k words in total
                        </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://cn.vercount.one/js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">VISITOR COUNT</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">TOTAL PAGE VIEWS</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a></span>
            <span class="text-sm lg:block">THEME&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.8.2</a></span>
        </div>
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
            
                
        
                
        
        
    </div>  
</footer>
		</div>
	</div>

	
	<div class="post-tools">
		<div class="post-tools-container">
	<ul class="article-tools-list">
		<!-- TOC aside toggle -->
		
		<li class="right-bottom-tools page-aside-toggle">
			<i class="fa-regular fa-outdent"></i>
		</li>
		

		<!-- go comment -->
		
		<li class="go-comment">
			<i class="fa-regular fa-comments"></i>
		</li>
		
	</ul>
</div>
	</div>
	

	<div class="right-side-tools-container">
		<div class="side-tools-container">
	<ul class="hidden-tools-list">
		<li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
			<i class="fa-regular fa-magnifying-glass-plus"></i>
		</li>

		<li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
			<i class="fa-regular fa-magnifying-glass-minus"></i>
		</li>

		<li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
			<i class="fa-regular fa-moon"></i>
		</li>

		<!-- rss -->
		

		

		<li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
			<i class="fa-regular fa-arrow-down"></i>
		</li>
	</ul>

	<ul class="visible-tools-list">
		<li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
			<i class="fa-regular fa-cog fa-spin"></i>
		</li>
		
		<li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
			<i class="arrow-up fas fa-arrow-up"></i>
			<span class="percent"></span>
		</li>
		
		
	</ul>
</div>
	</div>

	<div class="image-viewer-container">
	<img src="">
</div>

	
	<div class="search-pop-overlay">
	<div class="popup search-popup">
		<div class="search-header">
			<span class="search-input-field-pre">
				<i class="fa-solid fa-keyboard"></i>
			</span>
			<div class="search-input-container">
				<input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="Search..." spellcheck="false" type="search" class="search-input">
			</div>
			<span class="popup-btn-close">
				<i class="fa-solid fa-times"></i>
			</span>
		</div>
		<div id="search-result">
			<div id="no-result">
				<i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
			</div>
		</div>
	</div>
</div>
	

</main>


<script  src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/Swup.min.js" ></script><script  src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/SwupSlideTheme.min.js" ></script><script  src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/SwupScriptsPlugin.min.js" ></script><script  src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/SwupProgressPlugin.min.js" ></script><script  src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/SwupScrollPlugin.min.js" ></script><script  src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/SwupPreloadPlugin.min.js" ></script>
<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>




	<script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/imageViewer.js" ></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/utils.js" ></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/main.js" ></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/layouts/navbarShrink.js" ></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/scrollTopBottom.js" ></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/lightDarkSwitch.js" ></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/layouts/categoryList.js" ></script>


    <script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/localSearch.js" ></script>



    <script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/codeBlock.js" ></script>





    <script  src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/runtime.js" ></script>
    <script  src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/odometer.min.js" ></script>
    <link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/assets/odometer-theme-minimal.css">



  <script  src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/Typed.min.js" ></script>
  <script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/plugins/typed.js" ></script>







    <script  src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/anime.min.js" ></script>




    <script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/tocToggle.js" data-swup-reload-script></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/layouts/toc.js" data-swup-reload-script></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/plugins/tabs.js" data-swup-reload-script></script>


<script  src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/moment-with-locales.min.js" data-swup-reload-script></script>
<script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/layouts/essays.js" data-swup-reload-script></script>




	
</body>

</html>